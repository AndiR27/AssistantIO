# ==============================
# CONFIG GENERALE
# ==============================
spring.application.name=ProjetAndi
server.address=0.0.0.0
server.port=${HTTP_PORT:8088}
# ==============================
# ZIP (dev/local -> ressources; prod -> volume externe via env)
# ==============================
zip-storage.path=${ZIP_STORAGE_PATH:DocumentsZip}
spring.servlet.multipart.max-file-size=200MB
spring.servlet.multipart.max-request-size=200MB
# ==============================
# BASE DE DONNEES
# ==============================
# Valeurs par defaut = PostgreSQL local
# En prod ou en Docker, il suffit de surcharger SPRING_DATASOURCE_URL,
# SPRING_DATASOURCE_USERNAME et SPRING_DATASOURCE_PASSWORD.
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/AssistantIO}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:admin}
spring.datasource.driver-class-name=org.postgresql.Driver
# ==============================
# JPA / HIBERNATE
# ==============================
# Par defaut: update en dev/local.
# En prod, SPRING_JPA_DDL_AUTO peut être mis à validate.
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_DDL_AUTO:update}
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
# Flyway desactive par defaut, activable en prod via env.
spring.flyway.enabled=${SPRING_FLYWAY_ENABLED:false}
spring.flyway.baseline-on-migrate=true
# ==============================
# LOGGING
# ==============================
logging.level.root=${LOG_LEVEL:INFO}
#logging.pattern.console=%d{HH:mm:ss} %highlight(%-5level) [%logger{2}] %msg%n
logging.level.org.hibernate=WARN
logging.level.org.apache.camel=WARN
# Tomcat access log activable via env pour la prod.
server.tomcat.accesslog.enabled=${TOMCAT_ACCESS_LOG_ENABLED:false}
server.tomcat.basedir=logs
server.tomcat.accesslog.pattern=%h %l %u %t "%r" %s %b
# ==============================
# FRONTEND / CORS
# ==============================
# Valeur par defaut pour un front Angular en local.
# En prod, la variable CORS_ALLOWED_ORIGINS peut être surchargee
# (par exemple http://frontend sur le reseau Docker).
#spring.web.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:4200}
#spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
#spring.web.cors.allowed-headers=accept,authorization,content-type,x-requested-with
#spring.web.cors.allow-credentials=true
# ==============================
# SPRINGDOC / OPENAPI
# ==============================
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui
springdoc.api-docs.path=/v3/api-docs


